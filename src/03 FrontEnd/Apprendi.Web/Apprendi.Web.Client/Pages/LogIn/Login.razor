@using Apprendi.Application.Features.ReferenceData
@using Radzen
@using Radzen.Blazor
@attribute [AllowAnonymous]

@page "/login"

<div class="main-container">
    <RadzenCard class="card-container">
        <EditForm Model="@_loginRequest">
            <FluentValidator />
            <RadzenRow>
                <RadzenColumn>
                    <RadzenStack Orientation="Orientation.Horizontal">
                        <RadzenText Text="Log In" TextStyle="TextStyle.DisplayH4" />
                        <RadzenProgressBarCircular Value="100" ShowValue="false" Mode="ProgressBarMode.Indeterminate" Size="ProgressBarCircularSize.Small" Visible=@_isBusy />
                    </RadzenStack>
                    

                    <RadzenStack Orientation="Orientation.Horizontal">
                        <RadzenLink Path="/student-signup" class=@IsBusyClass>Sign up as a student</RadzenLink>  or
                        <RadzenLink Path="/tutor-signup" class=@IsBusyClass>Sign up as a tutor</RadzenLink>
                    </RadzenStack>

                    <RadzenButton class="rz-w-100 rz-mt-3" Disabled="true">
                        <RadzenImage class="social-media-icon" src="/images/google.png" />
                        Continue with Google
                    </RadzenButton>
                    <RadzenButton class="rz-w-100 rz-mt-3" Disabled="true">
                        <RadzenImage class="social-ValidationMessagemedia-icon" src="/images/facebook.png" />
                        Continue with Facebook
                    </RadzenButton>
                    <RadzenButton class="rz-w-100 rz-mt-3" Disabled="true">
                        <RadzenImage class="social-media-icon" src="/images/apple.png" />
                        Continue with Apple
                    </RadzenButton>

                    <div class="divider"><span>or</span></div>

                    <RadzenLabel class="rz-w-100" Text="Email"></RadzenLabel>
                    <RadzenTextBox class="rz-w-100" @bind-Value="_loginRequest.Username" type="email" placeholder="Your email" Disabled="_isBusy" />
                    <ValidationMessage For="@(() => _loginRequest.Username)" />

                    <RadzenLabel class="rz-w-100 rz-mt-4" Text="Password"></RadzenLabel>
                    <RadzenPassword class="rz-w-100" @bind-Value="_loginRequest.Password" type="password" placeholder="Your password" Disabled="_isBusy" />
                    <ValidationMessage For="@(() => _loginRequest.Password)" />

                    <RadzenButton class="rz-w-100 rz-mt-4" Text="Log in" Click="OnLoginClick" Disabled="_isBusy" />

                    <div class="rz-mt-5">
                        <RadzenLink class="abbreviation disabled">Forgot your password?</RadzenLink>
                    </div>

                </RadzenColumn>
            </RadzenRow>
        </EditForm>
    </RadzenCard>
</div>
