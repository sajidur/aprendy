@using Apprendi.Application.Features.ReferenceData

@layout AccountLayout
@page "/settings/account"
@attribute [Authorize]


<RadzenStack Orientation="Orientation.Vertical">
    <RadzenText Text="Account" TextStyle="TextStyle.H4" />

    <RadzenRow>
        <RadzenColumn Size="8">
            <RadzenText Text="Profile image" />
        </RadzenColumn>
        <RadzenColumn Size="4">
<RadzenFileInput TValue="IBrowserFile" >
</RadzenFileInput>
            <br class="m-0 p-0" />

            <RadzenText Text="Maximum size - 2MB" TextStyle="TextStyle.Caption" />
            <br class="m-0 p-0" />
            <RadzenText Text="JPG or PNG format" TextStyle="TextStyle.Caption" />
        </RadzenColumn>
    </RadzenRow>

    <RadzenRow>
        <RadzenColumn>
            <RadzenStack Gap="0.5em">
                <RadzenLabel Text="First name" />
                @if (CurrentUser != null)
                {
                    <RadzenTextBox @bind-Value="CurrentUser.FirstName" />
                }
                else
                {
                    <RadzenTextBox Value="" />
                }

                <RadzenLabel Text="Phone" />
                <RadzenTextBox />
                <RadzenLabel Text="Language" />
                <RadzenDropDown TValue="string" @bind-Value=@_selectedTimeZoneId ValueProperty="Id" LoadData=@LoadData Data=@_filteredTimeZones AllowFiltering="true" class="mt-3">
                    <Template Context="timeZone">
                        <span>
                            @FormatTimeZoneName(timeZone.Name)
                            <span class="abbreviation">
                                (@timeZone.Abbreviation @FormatTimeZoneOffset(timeZone.Offset))
                            </span>
                        </span>
                    </Template>
                </RadzenDropDown>
            </RadzenStack>
        </RadzenColumn>
         <RadzenColumn>
            <RadzenStack Gap="0.5em">

                <RadzenLabel Text="Last name"/>
                @if (CurrentUser != null)
                {
                    <RadzenTextBox @bind-Value="CurrentUser.LastName" />
                }
                else
                {
                    <RadzenTextBox Value="" />
                }
                <RadzenLabel Text="" />
                <RadzenLabel Text="" />

                <RadzenDropDown TValue="string" @bind-Value=@_selectedTimeZoneId ValueProperty="Id" LoadData=@LoadData Data=@_filteredTimeZones AllowFiltering="true" class="mt-3">
                    <Template Context="timeZone">
                        <span>
                            @FormatTimeZoneName(timeZone.Name)
                            <span class="abbreviation">
                                (@timeZone.Abbreviation @FormatTimeZoneOffset(timeZone.Offset))
                            </span>
                        </span>
                    </Template>
                </RadzenDropDown>
                <RadzenLabel Text="Currency" />
                <RadzenDropDown TValue="string" @bind-Value=@_selectedTimeZoneId ValueProperty="Id" LoadData=@LoadData Data=@_filteredTimeZones AllowFiltering="true" class="mt-3">
                    <Template Context="timeZone">
                        <span>
                            @FormatTimeZoneName(timeZone.Name)
                            <span class="abbreviation">
                                (@timeZone.Abbreviation @FormatTimeZoneOffset(timeZone.Offset))
                            </span>
                        </span>
                    </Template>
                </RadzenDropDown>

            </RadzenStack>

         </RadzenColumn>

    </RadzenRow>
</RadzenStack>
<RadzenButton Icon="save" Text="Save" class="rz-mt-5 rz-w-100" />